<%- include('partials/header', {current: 'forum' }) %>
<%- include('./partials/navbar.ejs', {current: 'forum' }); %>

<section>
    <div class="container mt-4">

        <% posts.forEach(function(post) { %>
            <div id="forum-section-style">
                <p class="font-weight-bold"> <%= post.title %> </p>
                <p> <%= post.description %> </p>
                <form method="post" action="/answer">
                    <div class="container">
                        <label class="font-weight-bold" for="">Answer</label>
                        <textarea class="form-control" placeholder="Type your answer" name="body" id=""></textarea>
                    </div>
                    <div class="container mt-4">
                        <!--this input will have the id the question is being answered-->
                        <!--which question this answer will be applied -->
                        <input type="hidden" name="question" value="<%= post.id %>" cols="30" rows="10">
                        <button type="submit" class="btn btn-primary mb-4">Answer</button>
                    </div>
                </form>
                <div class="container">
                    <p class="font-weight-bold mt-5">Answers</p>
                    <% answers.forEach(answer => { %>
                        <div class="card mt-3">
                            <div class="card-body">
                                <%= answer.body %>
                            </div>
                        </div>
                    <% }) %>
                </div>
            </div>
        <% }); %>
    </div>
    <%- include('./partials/footer.ejs'); %>
</section>